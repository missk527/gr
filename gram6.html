<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>å°æœ‹å‹è‹±æ–‡Grammaré¸æ“‡é¡Œ</title>
  <style>
    :root{
      --bg:#fff8cc;
      --accent:#ffb703;
      --accent-2:#fb8500;
      --ink:#1f2937;
      --ok:#16a34a;
      --bad:#dc2626;
      --card:#ffffffcc;
    }
    html,body{
      height:100%;
      margin:0;
      font-family: "Noto Sans HK", "PingFang TC", "Microsoft JhengHei", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--ink);
      background: var(--bg);
      line-height:1.5;
    }
    /* Cute yellow animal background via inline SVG pattern */
    body::before{
      content:"";
      position:fixed; inset:0;
      z-index:-1; opacity:.35;
      background-image: url('data:image/svg+xml;utf8,\
<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 200 200">\
<rect width="200" height="200" fill="%23fff2a8"/>\
<g fill="%23ffc94a">\
<text x="20" y="40" font-size="28">ğŸ¯</text>\
<text x="90" y="60" font-size="28">ğŸµ</text>\
<text x="150" y="40" font-size="28">ğŸ¼</text>\
<text x="40" y="120" font-size="28">ğŸ¦Š</text>\
<text x="120" y="130" font-size="28">ğŸ»</text>\
<text x="10" y="180" font-size="28">ğŸ¨</text>\
<text x="160" y="180" font-size="28">ğŸ¦</text>\
</g>\
</svg>');
      background-size:200px 200px;
      background-repeat:repeat;
    }
    .wrap{
      max-width: 1000px;
      margin: clamp(12px, 2vw, 24px) auto;
      padding: clamp(12px, 2vw, 24px);
    }
    header{
      background: linear-gradient(180deg, rgba(255,199,64,.9), rgba(255,184,34,.9));
      border: 3px solid var(--accent-2);
      border-radius: 18px;
      padding: 20px;
      box-shadow: 0 8px 20px rgba(0,0,0,.08);
    }
    h1{
      margin:0 0 6px 0;
      font-size: clamp(20px, 3.8vw, 42px);
      letter-spacing:.5px;
    }
    .subtitle{
      margin-top:0;
      font-size: clamp(14px, 1.9vw, 18px);
    }
    .card{
      background: var(--card);
      border: 2px solid #f3d27a;
      border-radius: 16px;
      padding: 16px;
      margin-top: 14px;
      box-shadow: 0 6px 14px rgba(0,0,0,.06);
    }
    .q{
      display:grid; gap:10px;
      padding: 14px;
      border-radius:14px;
      background:#fffdf4;
      border:1px dashed #f0cc6b;
    }
    .q + .q{ margin-top: 12px;}
    .q h3{ margin:0; font-size: clamp(16px, 2.1vw, 20px);}
    .opts{ display:grid; gap:8px; margin-left: 4px;}
    .opt{
      display:flex; align-items:center; gap:10px;
      background:#fff;
      padding:10px 12px; border-radius:10px;
      border:1.5px solid #f2d27a;
      cursor:pointer;
      transition:.15s ease;
    }
    .opt:hover{ transform: translateY(-1px); box-shadow: 0 6px 10px rgba(0,0,0,.05);}
    input[type="radio"]{ transform: scale(1.2); }
    .actions{
      position: sticky; bottom:12px;
      display:flex; gap:10px; flex-wrap:wrap;
      background:#fff9d9dd;
      border:2px solid #f3d27a;
      padding:12px; border-radius:14px; margin-top: 18px;
      backdrop-filter: blur(6px);
    }
    button{
      font-size:16px; font-weight:700;
      border:none; border-radius:12px;
      padding:12px 16px; cursor:pointer;
      box-shadow: 0 8px 16px rgba(0,0,0,.08);
    }
    .primary{ background: var(--accent-2); color:#fff; }
    .ghost{ background:#fff; border:2px solid var(--accent-2); color:#7a4a00; }
    .muted{ background:#fff; border:2px solid #caa64a; color:#6c5b2a; }
    .score{
      font-size: clamp(16px, 2.4vw, 22px);
      font-weight:800;
    }
    .correct{ border-color: #86efac !important; background:#f0fff4; }
    .wrong{ border-color: #fca5a5 !important; background:#fff5f5; }
    .explain{ font-size: 14px; color:#374151; padding-left: 8px;}
    footer{ text-align:center; opacity:.8; margin-top: 14px; font-size: 13px;}
    .tag{ display:inline-block; padding:4px 8px; border-radius:999px; background:#fff; border:1px solid #f2d27a; font-size:12px; margin-left:6px;}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>å°æœ‹å‹è‹±æ–‡æ–‡æ³•é¸æ“‡é¡Œ ğŸ¯</h1>
      <p class="subtitle">ä¸»é¡Œï¼š<strong>Past Tense</strong> ï¼† <strong>Present Perfect</strong>ï¼ˆç¾åœ¨å®Œæˆå¼ï¼‰
        <span class="tag">å…±30é¡Œ</span>
        <span class="tag">é»ƒè‰²å‹•ç‰©èƒŒæ™¯</span>
      </p>
    </header>

    <div id="quiz" class="card"></div>

    <div class="actions">
      <button id="submitBtn" class="primary">äº¤å·</button>
      <button id="showAnsBtn" class="ghost">é¡¯ç¤ºç­”æ¡ˆ</button>
      <button id="resetBtn" class="muted">é‡è¨­</button>
      <span id="score" class="score" style="margin-left:auto;"></span>
    </div>
    <footer>Designed for kids â€¢ Past & Present Perfect ç·´ç¿’</footer>
  </div>

<script>
const QUESTIONS = [
  // ---- Simple Present (1-6) ----
  {
    id:1, type:"Simple Present",
    text:"Jason ____ to school by bike.",
    options:["go","goes","went","is going"], answer:1,
    explain:"ç¬¬ä¸‰äººç¨±å–®æ•¸ä¸€èˆ¬ç¾åœ¨å¼å‹•è©åŠ  -sï¼šgoesã€‚"
  },
  {
    id:2, type:"Simple Present",
    text:"I ____ my room every weekend.",
    options:["clean","cleans","cleaned","am cleaning"], answer:0,
    explain:"ä¸»èª Iï¼Œç”¨ä¸€èˆ¬ç¾åœ¨å¼åŸå½¢ cleanã€‚"
  },
  {
    id:3, type:"Simple Present",
    text:"Where ____ your cousins play basketball?",
    options:["do","does","is","are"], answer:0,
    explain:"ä¸»èªè¤‡æ•¸ï¼ˆyour cousinsï¼‰â†’ ç–‘å•å¥ç”¨ doã€‚"
  },
  {
    id:4, type:"Simple Present",
    text:"The museum ____ at ten o'clock.",
    options:["open","opens","opened","is open"], answer:1,
    explain:"å–®æ•¸ä¸»èªï¼ˆmuseumï¼‰ä¸€èˆ¬ç¾åœ¨å¼ï¼šopensã€‚"
  },
  {
    id:5, type:"Simple Present",
    text:"My sisters ____ cartoons after dinner.",
    options:["watch","watches","watched","is watching"], answer:0,
    explain:"è¤‡æ•¸ä¸»èªç”¨å‹•è©åŸå½¢ watchã€‚"
  },
  {
    id:6, type:"Simple Present",
    text:"He ____ not like broccoli.",
    options:["do","does","did","is"], answer:1,
    explain:"ç¬¬ä¸‰äººç¨±å–®æ•¸å¦å®šï¼šdoes notï¼ˆdoesn'tï¼‰+ åŸå½¢ã€‚"
  },

  // ---- Future Tense (7-12) ----
  {
    id:7, type:"Future Tense",
    text:"We ____ visit the new library next week.",
    options:["will","are","did","have"], answer:0,
    explain:"ç°¡å–®æœªä¾†ï¼šwill + åŸå½¢ã€‚"
  },
  {
    id:8, type:"Future Tense",
    text:"Look at the skyâ€”those clouds mean it ____ rain.",
    options:["is going to","will to","are going to","is"], answer:0,
    explain:"æœ‰å¾µå…†çš„æœªä¾†å¸¸ç”¨ be going toã€‚"
  },
  {
    id:9, type:"Future Tense",
    text:"The bus ____ at 7:10 tomorrow morning.",
    options:["leaves","will leave","is leaving to","leave"], answer:0,
    explain:"æ™‚åˆ»è¡¨ç”¨ä¸€èˆ¬ç¾åœ¨å¼è¡¨ç¤ºæœªä¾†ï¼šleavesã€‚"
  },
  {
    id:10, type:"Future Tense",
    text:"____ you help me move these chairs later?",
    options:["Will","Do","Are","Did"], answer:0,
    explain:"å°‡ä¾†å¼ç–‘å•å¥ä»¥ Will ç½®å‰ã€‚"
  },
  {
    id:11, type:"Future Tense",
    text:"I think Tina ____ win the art contest.",
    options:["will","is going to be","are going to","was"], answer:0,
    explain:"ä¸»è§€é æ¸¬å¸¸ç”¨ willã€‚"
  },
  {
    id:12, type:"Future Tense",
    text:"Dad ____ buy tickets online. He has the website open.",
    options:["is going to","will to","is will","are going to"], answer:0,
    explain:"å·²ç¶“åœ¨æº–å‚™ã€è·¡è±¡æ˜é¡¯ â†’ be going toã€‚"
  },

  // ---- Be Verbs (13-18) ----
  {
    id:13, type:"Be Verbs",
    text:"There ____ a lot of snow on the mountain.",
    options:["is","are","am","be"], answer:0,
    explain:"ä¸å¯æ•¸åè©/å–®æ•¸æ¦‚å¿µæ­é… isã€‚"
  },
  {
    id:14, type:"Be Verbs",
    text:"My hands ____ cold.",
    options:["are","is","am","be"], answer:0,
    explain:"è¤‡æ•¸ä¸»èª hands ç”¨ areã€‚"
  },
  {
    id:15, type:"Be Verbs",
    text:"____ your brother at home now?",
    options:["Is","Are","Do","Does"], answer:0,
    explain:"å–®æ•¸ä¸»èª brother ç–‘å•å¥ç”¨ Isã€‚"
  },
  {
    id:16, type:"Be Verbs",
    text:"We ____ happy to see you.",
    options:["are","is","am","be"], answer:0,
    explain:"ä¸»èª We æ­é… areã€‚"
  },
  {
    id:17, type:"Be Verbs",
    text:"I ____ thirsty. Can I have some water?",
    options:["am","is","are","be"], answer:0,
    explain:"ä¸»èª I æ­é… amã€‚"
  },
  {
    id:18, type:"Be Verbs",
    text:"Those cookies ____ on the plate.",
    options:["are","is","am","be"], answer:0,
    explain:"è¤‡æ•¸ä¸»èª Those cookies ç”¨ areã€‚"
  },

  // ---- Modals (19-24) ----
  {
    id:19, type:"Modals",
    text:"You ____ bring your notebook to class.",
    options:["must","might","may","are"], answer:0,
    explain:"è¦å®š/å¼·çƒˆç¾©å‹™ï¼šmustã€‚"
  },
  {
    id:20, type:"Modals",
    text:"____ you lend me your eraser, please?",
    options:["Could","Do","Are","Did"], answer:0,
    explain:"ç¦®è²Œè«‹æ±‚å¸¸ç”¨ Could you ...?"
  },
  {
    id:21, type:"Modals",
    text:"We ____ not run in the hallway.",
    options:["must","should","can","mustn't"], answer:3,
    explain:"ç¦æ­¢ç”¨ mustn'tã€‚"
  },
  {
    id:22, type:"Modals",
    text:"Alice ____ speak three languages.",
    options:["can","must","should","may"], answer:0,
    explain:"èƒ½åŠ›ç”¨ canã€‚"
  },
  {
    id:23, type:"Modals",
    text:"You ____ finish the worksheet today; tomorrow is fine.",
    options:["don't have to","must","should","can't"], answer:0,
    explain:"ä¸å¿…ã€éå¿…è¦ï¼šdon't have toã€‚"
  },
  {
    id:24, type:"Modals",
    text:"Itâ€™s late. We ____ go home now.",
    options:["should","may","could","are"], answer:0,
    explain:"å»ºè­°/æœ€å¥½ï¼šshouldã€‚"
  },

  // ---- Prepositions (25-30) ----
  {
    id:25, type:"Prepositions",
    text:"The cat jumped ____ the fence.",
    options:["over","on","in","under"], answer:0,
    explain:"è¶Šéâ€¦ç”¨ overã€‚"
  },
  {
    id:26, type:"Prepositions",
    text:"My keys are ____ my pocket.",
    options:["in","on","at","to"], answer:0,
    explain:"åœ¨å£è¢‹è£¡ç”¨ inã€‚"
  },
  {
    id:27, type:"Prepositions",
    text:"See you ____ Monday afternoon.",
    options:["on","at","in","by"], answer:0,
    explain:"æ˜ŸæœŸå¹¾ç”¨ onï¼›æ­é… afternoon ä¾ç„¶ç”¨ onï¼ˆå›ºå®šæ­é…ï¼‰ã€‚"
  },
  {
    id:28, type:"Prepositions",
    text:"The cafÃ© is ____ the corner of the street.",
    options:["on","in","at","to"], answer:2,
    explain:"å›ºå®šæ­é… at the cornerï¼ˆè¡—è§’ï¼‰ã€‚"
  },
  {
    id:29, type:"Prepositions",
    text:"We walked ____ the river for an hour.",
    options:["along","between","into","over"], answer:0,
    explain:"æ²¿è‘—â€¦ç”¨ alongã€‚"
  },
  {
    id:30, type:"Prepositions",
    text:"The kids are playing ____ the playground.",
    options:["in","on","at","by"], answer:0,
    explain:"åœ¨æ“å ´è£¡é¢ç”¨ in the playgroundï¼ˆè‹±å¼/å¸¸è¦‹å­¸æ ¡èªå¢ƒï¼‰ã€‚"
  }
];

function renderQuiz(){
  const container = document.getElementById('quiz');
  container.innerHTML = "";
  QUESTIONS.forEach((q, idx)=>{
    const qEl = document.createElement('div');
    qEl.className = 'q';
    qEl.dataset.qid = q.id;
    qEl.innerHTML = `
      <h3>${idx+1}. ${q.text}
        <span class="tag">${q.type}</span>
      </h3>
      <div class="opts">
        ${q.options.map((o,i)=>`
          <label class="opt">
            <input type="radio" name="q${q.id}" value="${i}"/>
            <span> ${String.fromCharCode(65+i)}. ${o}</span>
          </label>
        `).join('')}
      </div>
      <div class="explain" id="exp-${q.id}" style="display:none;"></div>
    `;
    container.appendChild(qEl);
  });
}

function getAnswers(){
  const answers = new Map();
  QUESTIONS.forEach(q=>{
    const chosen = document.querySelector(`input[name="q${q.id}"]:checked`);
    answers.set(q.id, chosen ? Number(chosen.value) : null);
  });
  return answers;
}

function submit(){
  const answers = getAnswers();
  let correct = 0;
  QUESTIONS.forEach(q=>{
    const chosen = answers.get(q.id);
    const qEl = document.querySelector(`.q[data-qid="${q.id}"]`);
    qEl.classList.remove('correct','wrong');
    const exp = document.getElementById(`exp-${q.id}`);
    if(chosen === q.answer){
      correct++;
      qEl.classList.add('correct');
      exp.style.display = 'block';
      exp.innerText = "âœ… æ­£ç¢ºï¼" + " " + q.explain;
    }else{
      qEl.classList.add('wrong');
      exp.style.display = 'block';
      const ansText = q.options[q.answer];
      exp.innerText = "âŒ å°å¿ƒï¼æ­£ç¢ºç­”æ¡ˆæ˜¯ã€Œ" + ansText + "ã€ã€‚" + " " + q.explain;
    }
  });
  const score = document.getElementById('score');
  score.textContent = `å¾—åˆ†ï¼š${correct} / ${QUESTIONS.length}`;
  window.scrollTo({top: document.body.scrollHeight, behavior:'smooth'});
}

function showAnswers(){
  QUESTIONS.forEach(q=>{
    const qEl = document.querySelector(`.q[data-qid="${q.id}"]`);
    qEl.classList.add('correct');
    const exp = document.getElementById(`exp-${q.id}`);
    exp.style.display = 'block';
    exp.innerText = "â­ æ­£ç¢ºç­”æ¡ˆï¼š" + q.options[q.answer] + "ã€‚ " + q.explain;
    // tick the right option for visibility
    const right = document.querySelector(`input[name="q${q.id}"][value="${q.answer}"]`);
    if(right) right.checked = true;
  });
  document.getElementById('score').textContent = `å·²é¡¯ç¤ºå…¨éƒ¨ç­”æ¡ˆï¼ˆå…± ${QUESTIONS.length} é¡Œï¼‰`;
}

function resetQuiz(){
  document.getElementById('score').textContent = "";
  document.querySelectorAll('input[type="radio"]').forEach(r => r.checked = false);
  document.querySelectorAll('.q').forEach(qEl => qEl.classList.remove('correct','wrong'));
  document.querySelectorAll('.explain').forEach(e => { e.style.display='none'; e.textContent=''; });
  window.scrollTo({top:0, behavior:'smooth'});
}

document.getElementById('submitBtn').addEventListener('click', submit);
document.getElementById('showAnsBtn').addEventListener('click', showAnswers);
document.getElementById('resetBtn').addEventListener('click', resetQuiz);

renderQuiz();
</script>
</body>
</html>
